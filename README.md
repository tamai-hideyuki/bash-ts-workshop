# Bash & TypeScript Workshop

<!-- DIRTREE:START - Do not edit this section manually -->

```text
./
├── .github/
│   └── workflows/
│       └── update-readme.yml
├── .gitignore
├── README.md
├── bash/
│   ├── day1_basics.sh*
│   ├── day3_io.sh*
│   ├── day4_condition.sh*
│   └── day6_loops.sh*
├── package.json
├── tsconfig.json
└── typescript/
    ├── day2_types.ts
    ├── day5_functions.ts
    ├── day7_async.ts
    └── summary_basic.ts

5 directories, 13 files
```

<!-- DIRTREE:END -->

## 基礎フェーズ（Day 1〜7）

| 日数  | テーマ | 言語 | 目的 | 課題 | ファイル例 | 完了 |
|-------|--------|------|------|------|------------|------|
| Day 1 | 基本コマンドと変数 | Bash | シェルの基礎操作と変数の使い方を理解する | 1. `echo` で文字列出力<br>2. 変数代入と展開<br>3. 簡単な計算 | `/bash/day1_basics.sh` | [ ] |
| Day 2 | 型の基礎 | TypeScript | プリミティブ型・配列・オブジェクトの宣言 | 1. `string`, `number`, `boolean` の宣言<br>2. 配列と型注釈<br>3. オブジェクト型の宣言 | `/typescript/day2_types.ts` | [ ] |
| Day 3 | 入出力と引数 | Bash | ユーザー入力とスクリプト引数の処理 | 1. `read` で入力受付<br>2. `$1` で引数取得<br>3. `if` で条件分岐 | `/bash/day3_io.sh` | [ ] |
| Day 4 | 条件分岐とエラー処理 | Bash | 実務スクリプトに必須の判定と異常系処理 | 1. 偶数/奇数判定<br>2. ファイル存在チェック<br>3. コマンド終了ステータスで分岐 | `/bash/day4_condition.sh` | [ ] |
| Day 5 | 関数と型注釈 | TypeScript | 型を用いた安全な関数設計 | 1. `add(a, b)` 関数<br>2. 型不一致でエラー<br>3. `User` 型と `greet` 関数 | `/typescript/day5_functions.ts` | [ ] |
| Day 6 | ループとファイル操作 | Bash | 複数ファイルや繰り返し処理の自動化 | 1. `.log` ファイル列挙<br>2. `for` ループ処理<br>3. 行数カウント | `/bash/day6_loops.sh` | [ ] |
| Day 7 | 非同期処理 (async/await) | TypeScript | API呼び出しやI/Oの非同期処理 | 1. `fetch` でAPI取得<br>2. `try/catch` でエラー処理<br>3. `Promise.all` 並列処理 | `/typescript/day7_async.ts` | [ ] |

---

## 実践フェーズ（Day 8〜14）

| 日数  | テーマ | 言語 | 目的 | 課題 | ファイル例 | 完了 |
|-------|--------|------|------|------|------------|------|
| Day 8 | 正規表現とテキスト処理 | Bash | ログや設定ファイルから必要情報を抽出 | 1. `grep`/`sed`/`awk` の活用<br>2. 日付抽出<br>3. 置換処理 | `/bash/day8_regex.sh` | [ ] |
| Day 9 | モジュールとインポート | TypeScript | コード分割と再利用性の向上 | 1. ファイル分割<br>2. `import` / `export`<br>3. 型共有 | `/typescript/day9_modules.ts` | [ ] |
| Day 10 | 並列処理とジョブ制御 | Bash | 複数タスクの同時実行管理 | 1. `&` と `wait` の利用<br>2. 並列ダウンロード<br>3. ジョブ監視 | `/bash/day10_parallel.sh` | [ ] |
| Day 11 | クラスとインターフェース | TypeScript | オブジェクト指向設計を型で守る | 1. クラス作成<br>2. `implements` の利用<br>3. 継承と抽象クラス | `/typescript/day11_oop.ts` | [ ] |
| Day 12 | CLIツール作成 | Bash | 実用的なコマンドラインツールを作る | 1. オプション解析<br>2. ヘルプメッセージ<br>3. 実行例 | `/bash/day12_cli.sh` | [ ] |
| Day 13 | エラー境界と型安全性 | TypeScript | 予期しない動作を型と例外処理で防ぐ | 1. `unknown` / `any` の違い<br>2. カスタムErrorクラス<br>3. エラーの捕捉と再送出 | `/typescript/day13_error.ts` | [ ] |
| Day 14 | Git Hooks 自動化 | Bash | 開発フロー改善用のフック作成 | 1. pre-commitフック<br>2. コード整形自動化<br>3. 機密情報検出 | `/bash/day14_githook.sh` | [ ] |

---

## 応用フェーズ（Day 15〜21）

| 日数  | テーマ | 言語 | 目的 | 課題 | ファイル例 | 完了 |
|-------|--------|------|------|------|------------|------|
| Day 15 | APIクライアント作成 | TypeScript | 外部サービス連携コードの構築 | 1. API型定義<br>2. エンドポイント呼び出し<br>3. レスポンス整形 | `/typescript/day15_api.ts` | [ ] |
| Day 16 | サーバー構築 (Express) | TypeScript | 簡易HTTPサーバーの実装 | 1. ルーティング<br>2. JSONレスポンス<br>3. ミドルウェア | `/typescript/day16_server.ts` | [ ] |
| Day 17 | ログ収集と監視 | Bash | サーバーログを集約・解析する仕組み | 1. ログローテーション<br>2. アラートメール送信<br>3. 日次集計 | `/bash/day17_logs.sh` | [ ] |
| Day 18 | 環境変数と設定管理 | Bash + TypeScript | 両言語での設定ファイル管理 | 1. `.env` 読み込み<br>2. 型付き設定クラス<br>3. 安全なデフォルト値 | `/shared/day18_config` | [ ] |
| Day 19 | テスト自動化 | TypeScript | 単体テストでの品質保証 | 1. Jest導入<br>2. モック作成<br>3. CI連携 | `/typescript/day19_test.ts` | [ ] |
| Day 20 | デプロイスクリプト | Bash | サーバーへの自動デプロイ | 1. SSH接続<br>2. ファイル転送<br>3. サービス再起動 | `/bash/day20_deploy.sh` | [ ] |
| Day 21 | Bash × TypeScript 連携ツール | Bash + TypeScript | 両者を組み合わせた実運用ツール | 1. Bashでデータ取得<br>2. TSで解析<br>3. 結果をBashに返す | `/final/day21_integration` | [ ] |

---

## ゴール条件

- Bash: 環境構築・デプロイ・監視系のスクリプトをゼロから組める  
- TypeScript: APIやUI実装を型安全に構築し、テストまで組み込める  
- 両方の連携: CLI ↔ API ↔ Webアプリのワークフローを自動化できる  



## 進捗管理方法

- 毎日 `git commit` で課題の成果物を保存  
- 表の「完了」に ✅ を入れる  
- 週末に 1 週間分のコードレビューと改善  




# 基礎フェーズ詳細（Day 1〜7）



## Day 1: 基本コマンドと変数（Bash）
**目的:**  
- Bashの最小限の文法とコマンドを理解し、スクリプトを書く準備を整える  
- 実務でよく使う変数と出力の基本をマスターする  

**課題詳細:**
1. `echo` で「Hello World」を出力する  
2. 変数 `name` に自分の名前を代入し、`echo` で表示する  
3. 変数に数値を入れて四則演算（`$(( ))`）を行い、結果を表示する  
4. `date` コマンドで現在時刻を取得して変数に入れる  
5. 上記をまとめた簡単な `.sh` ファイルを作成し実行  

**ポイント:**  
- `#!/usr/bin/env bash` で始める  
- 変数に代入するときは `=` の前後にスペースを入れない  
- `chmod +x` で実行権限を与える  



## Day 2: 型の基礎（TypeScript）
**目的:**  
- TypeScript特有の「型注釈」を理解し、コンパイル時に型エラーを検出できるようにする  

**課題詳細:**
1. `string`, `number`, `boolean` 型の変数を宣言  
2. 配列を `string[]` と `number[]` 型で作成  
3. オブジェクト型 `{ name: string; age: number; }` を作成し、値を代入  
4. 変数の型をわざと間違えてコンパイルエラーを確認する  
5. `tsc` でコンパイル → `node` で実行  

**ポイント:**  
- `tsconfig.json` を作って `strict: true` を有効化  
- 型を明示する習慣をつける  
- `let` と `const` の使い分けも意識する  



## Day 3: 入出力と引数（Bash）
**目的:**  
- ユーザー入力とコマンド引数を処理できるようになる  

**課題詳細:**
1. `read` コマンドで名前を入力してもらい、挨拶を表示  
2. `$1` を使って、スクリプトに引数を渡し、その内容を出力  
3. 引数が空の場合はエラーを出して終了（`exit 1`）  
4. 入力値が `"admin"` の場合だけ特別なメッセージを表示  

**ポイント:**  
- `"$1"` のように引用符で囲むことでスペースを含む引数も安全に扱える  
- 引数と入力は混同しない  



## Day 4: 条件分岐とエラー処理（Bash）
**目的:**  
- 実務スクリプトで必須の条件分岐と異常系の対処を覚える  

**課題詳細:**
1. 変数 `n` に数値を入れて偶数・奇数を判定（`if` / `else`）  
2. ファイルが存在するかを `-f` でチェックし、存在しなければエラー表示  
3. コマンド実行結果の終了ステータス `$?` を確認し、失敗時は終了  

**ポイント:**  
- `if [[ 条件 ]]; then ... fi` で書く  
- `|| exit 1` のように短縮構文も試す  



## Day 5: 関数と型注釈（TypeScript）
**目的:**  
- 関数に型をつけ、安全に再利用できる形にする  

**課題詳細:**
1. `function add(a: number, b: number): number` を作成  
2. `User` 型を `{ id: number; name: string; }` として宣言  
3. `greet(user: User): string` 関数を作って挨拶文を返す  
4. `const` とアロー関数形式でも作る  

**ポイント:**  
- 関数の戻り値型を必ず明示する  
- オブジェクト型はインターフェースに切り出しても良い  



## Day 6: ループとファイル操作（Bash）
**目的:**  
- 繰り返し処理とファイルの自動操作を覚える  

**課題詳細:**
1. カレントディレクトリの `.log` ファイルを `for` で列挙  
2. 各ファイルの行数を `wc -l` で表示  
3. `while read line` で行ごとの処理を試す  
4. 出力をファイルに追記（`>>`）  

**ポイント:**  
- `for f in *.log; do ... done` 構文  
- 変数展開は `"${f}"` のように囲む  



## Day 7: 非同期処理 (async/await)（TypeScript）
**目的:**  
- APIやファイルI/Oを安全に非同期処理する  

**課題詳細:**
1. `fetch` で JSON API を取得（例: JSONPlaceholder）  
2. `async` 関数内で `await` を使ってレスポンスを待つ  
3. `try/catch` でエラー処理  
4. 複数のAPI呼び出しを `Promise.all` で並列実行  

**ポイント:**  
- 非同期関数は `async` が必須  
- 実行環境によっては `node --experimental-fetch` が必要  



# 実践フェーズ詳細（Day 8〜14）



## Day 8: 実用スクリプト作成（Bash）
**目的:**  
- 複数のコマンドや条件分岐を組み合わせた、実務レベルのBashスクリプトを作成する

**課題詳細:**
1. カレントディレクトリを再帰的に走査し、`.log` ファイルを全て `logs_archive/` に移動するスクリプトを作成  
2. ディレクトリが存在しない場合は自動作成  
3. 実行前にユーザーに確認（`read -p`）  
4. 実行後に移動したファイル数を表示  

**ポイント:**  
- `find` コマンドの活用  
- ファイル数カウントには `wc -l`  
- エラーハンドリングで異常終了を防ぐ  



## Day 9: モジュール化と型再利用（TypeScript）
**目的:**  
- コードを複数ファイルに分割し、型定義を再利用するスキルを身につける

**課題詳細:**
1. `types.ts` に `User` 型を定義  
2. `services/userService.ts` に `getUser(id: number): User` 関数を作成  
3. `main.ts` からインポートして実行  
4. 型の変更が全ファイルに反映されることを確認  

**ポイント:**  
- `export` と `import` の構文  
- 型の一元管理による保守性向上  



## Day 10: ログ監視スクリプト（Bash）
**目的:**  
- ファイル監視やリアルタイム処理を習得する

**課題詳細:**
1. `tail -f` で `app.log` を監視  
2. "ERROR" を含む行を検出したらアラート出力  
3. 検出回数をカウントして表示  
4. Ctrl+Cで終了時に終了メッセージを表示（`trap`）  

**ポイント:**  
- `grep --line-buffered` でリアルタイムフィルタ  
- `trap 'echo "終了します"; exit' INT` で割り込み処理  



## Day 11: APIクライアント作成（TypeScript）
**目的:**  
- 外部APIを呼び出すクライアントコードを安全に実装する

**課題詳細:**
1. `axios` または `fetch` を使ってJSON APIからデータ取得  
2. 型を定義してレスポンスを安全に扱う  
3. ネットワークエラー・ステータスエラーを `try/catch` で処理  
4. レスポンスを整形して出力  

**ポイント:**  
- レスポンス型を別ファイルに定義して使い回す  
- エラー時のユーザーへの通知方法を考える  



## Day 12: バッチ処理スクリプト（Bash）
**目的:**  
- 複数のファイルやディレクトリに対して一括処理を行うスクリプトを作成する

**課題詳細:**
1. `input/` ディレクトリ内の `.txt` ファイルを全て `.bak` にコピー  
2. コピー先は `backup/` ディレクトリ  
3. コピー前にディレクトリの存在を確認し、なければ作成  
4. 実行結果のレポートを `report.log` に出力  

**ポイント:**  
- `for` と `cp` の組み合わせ  
- ログ出力は `>>` で追記  



## Day 13: 環境変数と設定管理（TypeScript）
**目的:**  
- `.env` や設定ファイルから値を安全に読み込む

**課題詳細:**
1. `dotenv` パッケージを使って `.env` から設定を読み込む  
2. 型定義を作り、必須の環境変数が揃っているか検証  
3. 設定値を `config.ts` にまとめ、全プロジェクトで使用  
4. 値が不足している場合は起動時にエラー終了  

**ポイント:**  
- `as const` を使うと型の安全性が向上  
- 実運用を意識したエラー処理を実装  



## Day 14: Bash × TypeScript 連携ミニプロジェクト
**目的:**  
- 両方のスキルを組み合わせて、実務的な自動化を体験する

**課題詳細:**
1. Bashスクリプトで `.json` ファイル一覧を取得  
2. その結果を TypeScript のプログラムに渡す（標準入力やファイル経由）  
3. TypeScript 側で JSON を読み込み、特定のプロパティだけ抽出  
4. 抽出結果を Bash で受け取り、ファイルに保存  

**ポイント:**  
- `node script.js < input.txt` などパイプ・リダイレクトを駆使  
- Bash と TypeScript を「同じプロジェクト内の役割分担」として使う発想



# 応用フェーズ詳細（Day 15〜21）



## Day 15: 並列処理とジョブ管理（Bash）
**目的:**  
- 複数の処理を同時に走らせ、効率化する方法を学ぶ

**課題詳細:**
1. 3つのURLを並列でダウンロードするスクリプトを作成  
2. 各ダウンロードをバックグラウンド実行（`&`）  
3. `wait` コマンドで全処理完了を待つ  
4. 実行時間を計測して表示  

**ポイント:**  
- `time` コマンドや `SECONDS` 変数で計測  
- 並列処理と同期のタイミングを理解する  



## Day 16: 高度な型システム（TypeScript）
**目的:**  
- ジェネリクス・ユニオン型・条件付き型を使って柔軟な型設計を行う

**課題詳細:**
1. 汎用的な `ApiResponse<T>` 型を定義  
2. 成功時・失敗時の型を条件付き型で切り替える  
3. 関数の引数・戻り値にジェネリクスを適用  
4. `keyof` や `typeof` を使った動的型推論の例を作成  

**ポイント:**  
- 型の再利用性と拡張性を高める  
- 「型のための型」を設計できるレベルを目指す  



## Day 17: ファイル監視と自動ビルド（Bash）
**目的:**  
- ファイルの変更を監視し、変更時に自動処理を実行する

**課題詳細:**
1. `inotifywait`（Linux）や `fswatch`（Mac）を使って `src/` ディレクトリを監視  
2. ファイル変更時に自動で `tsc` を実行してビルド  
3. ビルド結果を `dist/` に出力  
4. ビルド後に成功・失敗のメッセージを色付きで表示  

**ポイント:**  
- 開発効率を上げる自動化の仕組みを学ぶ  
- Bashスクリプトに監視機能を組み込む  



## Day 18: CLIツール開発（TypeScript）
**目的:**  
- Node.jsで動くコマンドラインツールをTypeScriptで作る

**課題詳細:**
1. `bin/cli.ts` にコマンドラインツールのエントリポイントを作成  
2. `process.argv` で引数を取得  
3. `commander` パッケージを導入してコマンド定義を整理  
4. npm link でグローバルインストールして動作確認  

**ポイント:**  
- CLI構造とコマンドパーサの基本を理解  
- 実務で使えるツール化の第一歩  



## Day 19: エラー通知とSlack連携（Bash）
**目的:**  
- 外部サービスと連携してエラーをリアルタイム通知する

**課題詳細:**
1. 監視スクリプトでエラーを検出  
2. Slack Incoming Webhook URL に `curl` で通知を送信  
3. 通知メッセージにエラー内容・発生時刻を含める  
4. 環境変数でWebhook URLを安全に管理  

**ポイント:**  
- セキュリティを意識した外部連携  
- 実運用を意識した通知システム設計  



## Day 20: モジュール設計とパッケージ化（TypeScript）
**目的:**  
- 複数のモジュールをまとめてnpmパッケージ化する流れを学ぶ

**課題詳細:**
1. `src/` 内に複数の機能モジュールを作成  
2. `index.ts` でエクスポートを集約  
3. `package.json` を設定して `npm pack` でパッケージ化  
4. 別ディレクトリからインストールして動作確認  

**ポイント:**  
- ライブラリ化を意識したコード設計  
- パッケージのエクスポート構造を最適化  



## Day 21: Bash × TypeScript 本格自動化プロジェクト
**目的:**  
- 両スキルを統合して、本格的な自動化ワークフローを作る

**課題詳細:**
1. Bashで定期的にAPIを叩き、結果をJSONで保存  
2. TypeScriptでJSONを加工し、レポートHTMLを生成  
3. Bashで生成したHTMLを自動でメール送信  
4. 全工程を1つのスクリプトから実行可能にする  

**ポイント:**  
- 各技術の「強み」を役割分担で活かす  
- 実務レベルの自動化パイプラインを構築
